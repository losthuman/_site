<!DOCTYPE html> <html lang="ru"><head> <meta charset="utf-8"> <meta http-equiv="X-UA-Compatible" content="IE=edge"> <meta name="viewport" content="width=device-width, initial-scale=1"> <meta property="og:image" content="/assets/images/2018-10-07-Swift-Tipy-i-operatsii-Chast-2/top_image.jpg" /><!-- Begin Jekyll SEO tag v2.6.1 --> <title>Swift: Типы и операции. Часть 2 | Losthuman</title> <meta name="generator" content="Jekyll v3.8.5" /> <meta property="og:title" content="Swift: Типы и операции. Часть 2" /> <meta property="og:locale" content="ru" /> <meta name="description" content="Добро пожаловать во вторую часть мини-серии по изучению языка программирования Swift, в которой вы познакомитесь со строками, преобразованием типов и кортежами. Данный материал является переводом tutorial с сайта raywenderlich.com." /> <meta property="og:description" content="Добро пожаловать во вторую часть мини-серии по изучению языка программирования Swift, в которой вы познакомитесь со строками, преобразованием типов и кортежами. Данный материал является переводом tutorial с сайта raywenderlich.com." /> <link rel="canonical" href="https://losthuman.ru/categories/code/2018/10/07/swift-tipy-i-operatsii-chast-2.html" /> <meta property="og:url" content="https://losthuman.ru/categories/code/2018/10/07/swift-tipy-i-operatsii-chast-2.html" /> <meta property="og:site_name" content="Losthuman" /> <meta property="og:type" content="article" /> <meta property="article:published_time" content="2018-10-07T00:00:00+05:00" /> <script type="application/ld+json"> {"datePublished":"2018-10-07T00:00:00+05:00","headline":"Swift: Типы и операции. Часть 2","mainEntityOfPage":{"@type":"WebPage","@id":"https://losthuman.ru/categories/code/2018/10/07/swift-tipy-i-operatsii-chast-2.html"},"url":"https://losthuman.ru/categories/code/2018/10/07/swift-tipy-i-operatsii-chast-2.html","description":"Добро пожаловать во вторую часть мини-серии по изучению языка программирования Swift, в которой вы познакомитесь со строками, преобразованием типов и кортежами. Данный материал является переводом tutorial с сайта raywenderlich.com.","@type":"BlogPosting","dateModified":"2018-10-07T00:00:00+05:00","@context":"https://schema.org"}</script> <!-- End Jekyll SEO tag --> <link rel="stylesheet" href="/assets/likely.css"> <link rel="stylesheet" href="/assets/main.css"><link type="application/atom+xml" rel="alternate" href="https://losthuman.ru/feed.xml" title="Losthuman" /><!-- Put this script tag to the <head> of your page --> <script type="text/javascript" src="https://vk.com/js/api/openapi.js?160"></script><script> if(!(window.doNotTrack === "1" || navigator.doNotTrack === "1" || navigator.doNotTrack === "yes" || navigator.msDoNotTrack === "1")) { (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){ (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o), m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m) })(window,document,'script','https://www.google-analytics.com/analytics.js','ga'); ga('create', 'UA-116379514-1', 'auto'); ga('send', 'pageview'); } </script> <!-- Global site tag (gtag.js) - Google Analytics --> <script async src="https://www.googletagmanager.com/gtag/js?id=UA-116379514-1"></script> <script> window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag('js', new Date()); gtag('config', 'UA-116379514-1', { 'optimize_id': 'GTM-NJS47RQ'}); </script> </head> <body><header class="site-header" role="banner"> <div class="wrapper"> <a class="site-title" rel="author" href="/">Losthuman</a> <nav class="site-nav site-nav-custom"> <input type="checkbox" id="nav-trigger" class="nav-trigger" /> <label for="nav-trigger"> <span class="menu-icon"> <svg viewBox="0 0 18 15" width="18px" height="15px"> <path d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.032C17.335,0,18,0.665,18,1.484L18,1.484z M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.032C17.335,6.031,18,6.696,18,7.516L18,7.516z M18,13.516C18,14.335,17.335,15,16.516,15H1.484 C0.665,15,0,14.335,0,13.516l0,0c0-0.82,0.665-1.483,1.484-1.483h15.032C17.335,12.031,18,12.695,18,13.516L18,13.516z"/> </svg> </span> </label> <div class="trigger"> <a class="page-link" href="/about/">О проекте</a> <a class="page-link" href="/categories/technews/index.html">Technews</a> <a class="page-link" href="/categories/code/index.html">Code</a> <a class="page-link" href="/categories/library/index.html">Library</a> </div> </nav> </div> </header> <main class="page-content" aria-label="Content"> <div class="wrapper"> <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script> <ins class="adsbygoogle" style="display:block" data-ad-format="fluid" data-ad-layout-key="-fg+4w-s-a4+kz" data-ad-client="ca-pub-5706627784425194" data-ad-slot="4102621418"></ins> <script> (adsbygoogle = window.adsbygoogle || []).push({}); </script> <div class="container-fluid"> <div class="row"> <div class="col-md-8"> <article class="post h-entry" itemscope itemtype="http://schema.org/BlogPosting"> <header class="post-header"> <h1 class="post-title p-name" itemprop="name headline">Swift: Типы и операции. Часть 2</h1> <p class="post-meta"> <time class="dt-published" datetime="2018-10-07T00:00:00+05:00" itemprop="datePublished">Oct 7, 2018 </time></p> </header> <div class="post"> <div class="post-image"> <img src="/assets/images/2018-10-07-Swift-Tipy-i-operatsii-Chast-2/top_image.jpg" alt="Картинка" > </div> </div> <div class="post-content e-content" itemprop="articleBody"> <p>Добро пожаловать во вторую часть мини-серии по изучению языка программирования Swift, в которой вы познакомитесь со строками, преобразованием типов и кортежами. Данный материал является переводом <a href="https://www.raywenderlich.com/6364-swift-tutorial-part-2-types-and-operations">tutorial</a> с сайта <a href="https://www.raywenderlich.com">raywenderlich.com</a>.</p> <p>Эта часть является продолжением <a href="https://losthuman.ru/blog/code/2018/10/06/swift-uchebnik-chast-1-vyrazhenija.html">Swift: выражения, переменные и константы. Часть 1</a>. Мы рекомендуем Вам начать с первой части, чтобы не пропустить и не потерять.</p> <p>Пришло время более подробно поговорить про типы! Формально, тип описывает набор значений и операций, которые могут быть выполнены с ним.</p> <p>В этом учебном пособии вы научитесь работаь с различными типами которые есть в Swift. Вы научитесь конвертировать типы один в другой, а также познакомитесь с выводом типа, который сделает вашу жизнь как программиста намного проще.</p> <p>В конце вы познакомитесь с кортежами (tuples), которые позволяют создавать собственные множественные значения любого типа.</p> <h3 id="с-чего-начать">С чего начать</h3> <p>Иногда вы будете получать данные в одном формате и нуждаться в том, чтобы конвертировать их в другой формат. Наивно пытаться решить эту задачу следующим образом:</p> <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>var integer: Int = 100
var decimal: Double = 12.5
integer = decimal
</code></pre></div></div> <p>Компилятор Swift будет жаловаться, если вы попытаетесь это сделать и выдаст ошибку на третьей строке:</p> <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>'Cannot assign value of type 'Double' to type 'Int'`
</code></pre></div></div> <p>Некоторые языки программирования не так строги в отношении типов и будут выполнять такие преобразования автоматически. Опыт показывает, что такое автоматическое преобразование является источником ошибок программного обеспечения, и это часто ухудшает производительность. Swift предотвращает появление в коде присвоения значения одного типа другому, и это позволяет избежать этих проблем.</p> <p>Помните, что компьютеры полагаются на программистов, в том, что касается постановки задач и способов их решения. В Swift для исключения возможности появления ошибок включено явное преобразование типов. Если вы хотите чтобы преобразование произощло, вы должны это объявить!</p> <p>Вместо простого назначения вам нужно явно указать, что вы хотите преобразовать тип. Вы делаете это так:</p> <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>var integer: Int = 100
var decimal: Double = 12.5
integer = Int(decimal)
</code></pre></div></div> <p>Присвоение в третьей строке кода теперь говорит Swift’у недвусмысленно, что вы хотите преобразовать переменную типа <code class="highlighter-rouge">Double</code> в новый тип <code class="highlighter-rouge">Int</code>.</p> <p>Примечание. В этом случае назначение десятичного значения целому числу приводит к потере точности: переменная <code class="highlighter-rouge">integer</code> заканчивается значением <code class="highlighter-rouge">12</code> вместо <code class="highlighter-rouge">12,5</code>. Вот почему важно в данном случае конвертировать типы явным образом. Swift хочет убедиться что вы знаете, что делаете, и что вы понимаете, что таким образом можете потерять данные выполняя преобразование типа.</p> <h4 id="операции-с-разными-типами">Операции с разными типами</h4> <p>Не так давно вы изучили числа и производили операции отдельно с целыми, отдельно с десятичными числами. Но, что если у вас будет целое число и вы захотите умножить его на десятичное?</p> <p>Вы может быть думает, что сможете сделать так:</p> <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>let hourlyRate: Double = 19.5
let hoursWorked: Int = 10
let totalCost: Double = hourlyRate * hoursWorked
</code></pre></div></div> <p>Если вы попытаетсь это сделать, вы получите ошибку в последней строке:</p> <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>`Binary operator '*' cannot be applied to operands
of type 'Double' and 'Int'`
</code></pre></div></div> <p>Эта шибка появилась потому, что в Swift вы не можете использовать оператор <code class="highlighter-rouge">*</code> для различных типов данных. Это правило также верно и для других арифметических операторов. На первый взгляд это может показаться удивительным, но Swift делает это прежде всего, чтобы вам помочь.</p> <p>Swift заставляет вас быть явным в вопросе, касающемся того, понимаете ли вы что делаете, когда умножатете переменную типа <code class="highlighter-rouge">Int</code> на переменую типа <code class="highlighter-rouge">Double</code>, потому, что результатом такой операции может быть только <em>один</em> тип. Хотите, чтобы результатом умножения был <code class="highlighter-rouge">Int</code> - конвертируйте <code class="highlighter-rouge">Double</code> в <code class="highlighter-rouge">Int</code>, до того, как выполнится умножение. Хотите, чтобы результатом операции был <code class="highlighter-rouge">Double</code> - конвертируйте <code class="highlighter-rouge">Int</code> в <code class="highlighter-rouge">Double</code> до выполнения операции умножения.</p> <p>В этом примере вы хотите. чтобы результат имел тип <code class="highlighter-rouge">Double</code>. Вы не хотите, чтобы результатом был <code class="highlighter-rouge">Int</code>, потому что в этом случае Swift преобразует константу <code class="highlighter-rouge">hourlyRate</code> в <code class="highlighter-rouge">Int</code>, чтобы выполнить умножение, округляя ее до 19 и теряя точность <code class="highlighter-rouge">Double</code>.</p> <p>Для этого вам нужно сказать Swift, что вы хотите, чтобы он считал константу <code class="highlighter-rouge">hoursWorked</code> <code class="highlighter-rouge">Double</code>:</p> <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>let hourlyRate: Double = 19.5
let hoursWorked: Int = 10
let totalCost: Double = hourlyRate * Double(hoursWorked)
</code></pre></div></div> <p>В результате каждый операнд будет иметь тип <code class="highlighter-rouge">Double</code> когда Swift пермножит их, таким образом константа <code class="highlighter-rouge">totalCost</code> будет иметь тип <code class="highlighter-rouge">Double</code>.</p> <h4 id="вывод-типа">Вывод типа</h4> <p>До настоящего места в этом уроке вы видели, что переменная или константа всегда объявлялись с указанием соответствующего типа, как например в следующем примере:</p> <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>let integer: Int = 42
let double: Double = 3.14159
</code></pre></div></div> <p>Вы можете спросить себя: “Почему я должен всегда писать <code class="highlighter-rouge">: Int</code> и <code class="highlighter-rouge">: Double</code>, когда в правой части выражения <em>также есть</em> <code class="highlighter-rouge">Int</code> или <code class="highlighter-rouge">Double</code>”? Такая избыточность нужна для дополнительной страховки. Вы скоро сможете убедиться, что это можно и не делать.</p> <p>Оказывается, компилятор Swift также может это сделать за вас (указать тип переменной ли константы). Вовсе не нужно, чтобы вы все время указывали типы - компилятор может разобраться с типами самостоятельно. Эта работа выполняется благодаря процессу, называемому выводом типа. Не все языки программирования имеют такую способность, но Swift это может, и это ключевой компонент мощи Swift как языка.</p> <p>Поэтому вы можете просто удалить тип данных в большинстве мест кода, где вы его видите.</p> <p>Например, рассмотрим следующее объявление константы:</p> <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>let typeInferredInt = 42
</code></pre></div></div> <p>Иногда полезно проверять предполагаемый тип переменной или константы. Вы можете сделать это в playground, удерживая клавишу <code class="highlighter-rouge">Option</code> и нажав имя переменной или константы. Xcode отобразит следующее:</p> <p><a href="https://koenig-media.raywenderlich.com/uploads/2018/07/swift-tutorial-part-2-inferred-int-1.png"><img src="https://koenig-media.raywenderlich.com/uploads/2018/07/swift-tutorial-part-2-inferred-int-1.png" alt="Inferred Int" /></a></p> <p>Xcode сообщает вам вывод типа предоставляя вам декларацию о том, что вы bcgjkmpetnt, если не было вывода типа. В этом случае тип <code class="highlighter-rouge">Int</code>.</p> <p>Это же справедливо и для других типов::</p> <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>let typeInferredDouble = 3.14159
</code></pre></div></div> <p>Клик по этому параметру показывает следующее:</p> <p><a href="https://koenig-media.raywenderlich.com/uploads/2018/07/swift-tutorial-part-2-inferred-double-1.png"><img src="https://koenig-media.raywenderlich.com/uploads/2018/07/swift-tutorial-part-2-inferred-double-1.png" alt="Inferred Double" /></a></p> <p>Вывод типа не является чем-то магическим. Swift просто делает то, что без труда делает ваш мозг. Языки программирования, которые не используют вывод типа, часто требуют большей “многословности” при написании кода, потому что вам нужно указывать явно тип каждый раз, когда вы объявляете переменную или константу.</p> <p>Иногда вы хотите определить константу или переменную и убедиться, что это определенный тип, хотя то, что вы назначаете ему, является другим типом. Вы видели раньше, как вы можете конвертировать один тип в другой. Например, рассмотрим следующее:</p> <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>let wantADouble = 3
</code></pre></div></div> <p>Здесь Swift указывает тип <code class="highlighter-rouge">wantADouble</code> как <code class="highlighter-rouge">Int</code>. Но что, если вы хотите вместо этого <code class="highlighter-rouge">Double</code>?</p> <p>Вы можете сделать следующее:</p> <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>let actuallyDouble = Double(3)
</code></pre></div></div> <p>Это тоже самое, что вы делали раньше для конвертации типов.</p> <p>Другая опция может быть не пользуется выводом типа вовсе и работает следующим образом:</p> <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>let actuallyDouble: Double = 3
</code></pre></div></div> <p>Есть еще третий способ:</p> <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>let actuallyDouble = 3 as Double
</code></pre></div></div> <p>Здесь используется нновый оператор, которого вы раньше не видели. <code class="highlighter-rouge">as</code>, также выполняет конвертацию типа.</p> <p>Вообще говоря, символ <code class="highlighter-rouge">3</code> сам по себе не имеет типа. Это только при использовании в выражении или присваивая этот символ константе или переменной, Swift назначает тип.</p> <blockquote> <p>Примечание: Буквенные значения не имеют типа. Только при использовании их в выражениях или присвоения их константе или переменной, для которых Swift требует определить тип.</p> </blockquote> <p>Также может использоваться литеральное числовое значение, которое не содержит десятичной точки как <code class="highlighter-rouge">Int</code> и как <code class="highlighter-rouge">Double</code>. Вот почему вам разрешено присваивать значение <code class="highlighter-rouge">3</code> константе <code class="highlighter-rouge">actuallyDouble</code>.</p> <p>Значения литеральных чисел, которые содержат десятичную точку, не могут быть целыми числами.</p> <p>Это означает, что вы могли бы избежать всего этого обсуждения, если бы написали:</p> <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>`let wantADouble = 3.0`
</code></pre></div></div> <h3 id="строки">Строки</h3> <p>Числа важны для программирования, но они не являются единственным типом данных с которым ужно работать в ваших приложениях. Текст также является чрезвычайно распространенным типом, например, имена людей, их адреса или даже слова книги. Все это - примеры текста, которые может потребоваться для приложения.</p> <p>Большинство языков компьютерного программирования хранят текст в типе данных, называемом строкой (<code class="highlighter-rouge">string</code>). Эта часть урока познакомит вас со строками, сначала дав вам общую информацию о концепции строк, а затем, покажет вам, как их использовать в Swift.</p> <h4 id="как-компьютер-представляет-строки">Как компьютер представляет строки</h4> <p>Компьютеры думают о строках как о наборе отдельных элементов. Весь код, на любом языке программирования, можно сократить до необработанных чисел. Строки также подпадают под данное правило.</p> <p>Это может показаться странным. Как символы могут быть числами? В его основе лежит необходимость дать компьютеру возможность переводить человеческие буквы и цифры в собственный компьютер язык, и он делает это, назначая каждому элементу другое число. Эта система образует двухстороннее сопоставление от символа к числу, и наоборот.</p> <p><a href="https://koenig-media.raywenderlich.com/uploads/2018/07/swift-tutorial-part-2-unicode-comic.png"><img src="https://koenig-media.raywenderlich.com/uploads/2018/07/swift-tutorial-part-2-unicode-comic-650x406.png" alt="Unicode comic" /></a></p> <p>Когда вы нажимаете клавишу на клавиатуре, вы на самом деле передаете номер определенного элемента (буквы) в компьютер. Ваш текстовый процессор (приложение) преобразует это число в изображение элемента (буквы) и, наконец, представляет вам результат преобразования на экране монитора.</p> <h3 id="unicode">Unicode</h3> <p>В сущности компьютер абстрактно свободен в выборе любого символьного набора. Если компьютер хочет, чтобы буква а равнялась числу 10, тогда это так и может быть. Но когда компьютеры начинают разговаривать друг с другом, им необходимо использовать общий набор символов. Если на двух компьютерах используются разные наборы символов, тогда, когда один компьютер передал строку другому, получится в конечном итоге что строки содержат разные символы.</p> <p>Было несколько популярных стандартов, но самым современным стандартом является Unicode. Он определяет отображение набора символов, которое используют почти все компьютеры сегодня.</p> <blockquote> <p>Примечание: Вы можете прочитать больше об Unicode на <a href="http://unicode.org">официальном сайте</a></p> </blockquote> <p>Рассмотрим слово cafe. Стандарт Unicode говорит нам, что буквы этого слова должны быть закодированы цифрами следующим образом:</p> <p><img src="https://koenig-media.raywenderlich.com/uploads/2016/09/cafe-1.png" alt="cafe" /></p> <p>Число, связанное с каждым символом, называется кодовой точкой. Итак, в пример выше, <code class="highlighter-rouge">c</code> использует кодовую точку 99, <code class="highlighter-rouge">a</code> использует кодовую точку 97 и так далее.</p> <p>Конечно, Unicode предназначен не только для простых латинских символов, используемых в английском языке, например, c, a, f и e. Он также позволяет вам отображать символы из языков во всем мире. Слово кафе происходит от французского, в котором написано как cafe. Unicode отображает эти символы так:</p> <p><img src="https://koenig-media.raywenderlich.com/uploads/2016/09/cafe_with_accent.png" alt="cafe_with_accent" /></p> <p>И вот пример использования китайских иероглифов (это, согласно Google переводчику, означает “Computer Programming”):</p> <p><img src="https://koenig-media.raywenderlich.com/uploads/2016/09/computer_programming_chinese-650x164.png" alt="computer_programming_chinese" /></p> <p>Вы, наверное, слышали об эмодзи, которые представляют собой небольшие картинки, которые вы можете использовать в вашем тексте. Эти картинки, по сути, являются просто обычными буквами, также отображаемыми Unicode. Например:</p> <p><img src="https://koenig-media.raywenderlich.com/uploads/2016/09/poo_face.png" alt="poo_face" /></p> <p>Это всего два символа. Кодовые точки для них очень большие числа, но каждая из них по-прежнему остается только одной кодовой точкой. Компьютер считает они ничем не отличаются от любых других двух символов.</p> <blockquote> <p>Примечание: слово «emoji» происходит от японского: «e» означает изображение, а «moji» означает буквы.</p> </blockquote> <h3 id="строки-в-swift">Строки в Swift</h3> <p>Swift, как и любой хороший язык программирования, может работать непосредственно и с буквами, и со строками. Он делает это через типы данных <code class="highlighter-rouge">Character</code> и <code class="highlighter-rouge">String</code>, соответственно. В этом разделе вы узнаете об этих типах данных и о том, как работать с ними.</p> <h4 id="characters-and-strings">Characters and Strings</h4> <p><code class="highlighter-rouge">Character</code> это тип данных, экземпляр которого может хранить одну букву (один символ). Например:</p> <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>let characterA: Character = "a"
</code></pre></div></div> <p>Таким способом хранится буква <code class="highlighter-rouge">а</code>. Точно также мохно хранить любой символ, даже эмодзи:</p> <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>let characterDog: Character = "🐶"
</code></pre></div></div> <p>Но этот тип данных разработан для хранения только одного символа. А вот тип <code class="highlighter-rouge">String</code> может хранить несколько символов. Например:</p> <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>let stringDog: String = "Dog"
</code></pre></div></div> <p>Правая сторона этого выражения представляет собой то, что известно под названием строковый литерал. Это синтаксис Swift для представления строк.</p> <p>Конечно, вывод типа применяется по отношению к строкам также, как к числам. Если вы удалите тип из объявления константы <code class="highlighter-rouge">stringDog</code> тогда Swift справедливо назначит этой константе тип <code class="highlighter-rouge">String</code>.</p> <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>let stringDog = "Dog" // Inferred to be of type String
</code></pre></div></div> <blockquote> <p>Примечание: В Swift нет такого понятия, как символьный литерал. Символ представляется строкой с длинной равной единице. Однако Swift указывает тип любой строки литералом <code class="highlighter-rouge">String</code>, поэтому, если вы хотите вместо этого получить тип <code class="highlighter-rouge">Character</code>, вы должны явно назначить этот тип.</p> </blockquote> <h4 id="конкатенация-строк">Конкатенация строк</h4> <p>Вы можете делать гораздо больше, чем создавать простые строки. Иногда вам нужно манипулировать строкой, и один из общих способ сделать это - объединить ее с другими строками.</p> <p>В Swift это делается довольно просто: с помощью оператора сложения. Так же, как вы можете сложить числа, вы можете сложить строки:</p> <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>var message = "Hello" + " my name is "
let name = "Lorenzo"
message += name // "Hello my name is Lorenzo"
</code></pre></div></div> <p>Вам нужно объявить <code class="highlighter-rouge">message</code> как переменную, а не константу, потому что вы хотите изменить ее. Вы можете добавить строковые литералы сразу вместе, как в первой строке, но также вы можете добавить строковые переменные или константы так, как это сделано в последней строке.</p> <p>Также возможно добавить символы в строку. Однако строгая типизация Swift означает, что типы должны быть явными, так же, точно так же как это было показано на примере чисел.</p> <p>Чтобы добавить символ в строку, можно сделать следующее:</p> <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>let exclamationMark: Character = "!"
message += String(exclamationMark) // "Hello my name is Lorenzo!"
</code></pre></div></div> <p>С помощью этого кода вы явно преобразуете <code class="highlighter-rouge">Character</code> в строку <code class="highlighter-rouge">String</code> до того, как добавите его в <code class="highlighter-rouge">message</code>.</p> <h4 id="интерполяция-строк">Интерполяция строк</h4> <p>Вы также можете создать строку, используя интерполяцию, которая является специальным cинтаксисом Swift и позволяет создавать строку таким способом, который легко читать:</p> <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>let name = "Lorenzo"
let messageInOne = "Hello my name is \(name)!" // "Hello my name is Lorenzo!"
</code></pre></div></div> <p>Такой код читается гораздо легче, чем пример из предыдущего раздела. Это расширение синтаксиса строкового литерала, посредством которого вы заменяете определенные части строки другими значениями.</p> <p>Такой синтаксис работает точно так же, как построение строк из других типов, таких как числа:</p> <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>let oneThird = 1.0 / 3.0
let oneThirdLongString = "One third is \(oneThird) as a decimal."
</code></pre></div></div> <p>В данном примере вы добавляете в строку константу <code class="highlighter-rouge">Double</code> способом интерполяции. В результатае последняя строка кода - константа <code class="highlighter-rouge">oneThirdLongString</code> будет содержать следующее:</p> <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>One third is 0.3333333333333333 as a decimal.
</code></pre></div></div> <p>Разумеется, на самом деле длинна <code class="highlighter-rouge">oneThird</code> практически бесконечна, потому что это повторяющееся десятичное число. Строчная интерполяция с помощью <code class="highlighter-rouge">Double</code> не дает возможности контролировать точность получаемой строки.</p> <p>Это следствие использования интерполяции строк - просто для использования, но не дает возможности настраивать вывод. Имейте это ввиду.</p> <h4 id="многострочные-строки">Многострочные строки</h4> <p>У Swift есть удобный способ представления многострочных строк. Это может быть весьма полезным, когда вам нужно поместить очень длинную строку в свой код.</p> <p>Делается это так:</p> <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>let bigString = """
    Вы можете создавать строки  
    которые имеют несколько  
    строк  
    делая это
    таким способом.
    """
print(bigString)
</code></pre></div></div> <p>Три двойные кавычки означают, что это многострочная строка. Первая и последняя строки кода не становятся частью строки. Это делает его более гибким.</p> <p>В приведенном выше примере будет напечатано следующее:</p> <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Вы можете создавать строки  
которые имеют несколько  
строк  
делая это
таким способом.
</code></pre></div></div> <h3 id="кортежи-tuples">Кортежи (Tuples)</h3> <p>Иногда данные формируются парами или тройками. Примером этого является пара (x, y) в двумерной сетке. Аналогично, набор координат в трехмерной сетке состоит из значения x, y-значения и z-значения.</p> <p>В Swift вы можете представлять такие связанные данные очень простым способом через использование кортежа.</p> <p>Кортеж - это тип, который представляет данные, состоящие из более чем одного значения любого типа. Вы можете иметь столько значений в кортеже, сколько захотите. Например, вы может определять пару двумерных координат, где каждое значение оси представляет собой целое число, вот так:</p> <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>let coordinates: (Int, Int) = (2, 3)
</code></pre></div></div> <p>Тип <code class="highlighter-rouge">coordinates</code> - это кортеж, содержащий два значения <code class="highlighter-rouge">Int</code>. Типы значений внутри кортежа, в этом случае <code class="highlighter-rouge">Int</code>, разделяются запятыми окруженный круглыми скобками. Код для создания кортежа - тое же, с каждым значением, разделенным запятыми и окруженным скобками.</p> <p>Вывод типа может также определять типы кортежей:</p> <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>let coordinatesInferred = (2, 3) // вывод типа (Int, Int)
</code></pre></div></div> <p>Таким же образом можно создать кортеж, состоящий из знчений <code class="highlighter-rouge">Double</code>:</p> <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>let coordinatesDoubles = (2.1, 3.5) // Вывод типа (Double, Double)
</code></pre></div></div> <p>Или вы можете включать в кортеж различные типы:</p> <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>let coordinatesMixed = (2.1, 3) // Вывод типа (Double, Int)
</code></pre></div></div> <p>А вот как происходит доступ к данным внутри кортежа:</p> <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>let coordinates = (2, 3)
let x1 = coordinates.0
let y1 = coordinates.1
</code></pre></div></div> <p>Вы можете получить каждый элемент в кортеже по его индексу в кортеже, начиная с нуля. Итак, в этом примере <code class="highlighter-rouge">x1</code> будет равен <code class="highlighter-rouge">2</code>, а <code class="highlighter-rouge">y1</code> будет равен <code class="highlighter-rouge">3</code>.</p> <blockquote> <p>Примечание: Начало отстчета с нуля, это обычная практика в программировании и называется нулевой индексацией.</p> </blockquote> <p>В предыдущем примере может быть не сразу очевидно, что первое значение в индексе <code class="highlighter-rouge">0</code> - это координата x, а второе значение - по индексу <code class="highlighter-rouge">1</code>, является y-координатой. Это еще одна демонстрация того, почему важно всегда называть переменные таким образом, чтобы избежать путаницы.</p> <p>К счастью, Swift позволяет вам называть отдельные части кортежа, и вы можете явно указать на то, что представляет каждая часть. Например:</p> <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>let coordinatesNamed = (x: 2, y: 3) 
// Вывод типа (x: Int, y: Int)
</code></pre></div></div> <p>В коде аннотированы значения <code class="highlighter-rouge">coordinatesNamed</code>, содержащий метку для каждой части кортежа. Затем, когда вам нужно получить доступ к каждой части кортежа, вы сможете получить к ней доступ через имя соответствующего элемента кортежа:</p> <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>let x2 = coordinatesNamed.x
let y2 = coordinatesNamed.y
</code></pre></div></div> <p>Это гораздо понятнее. Полезно именовать компоненты ваших кортежей.</p> <p>Если вы хотите получить доступ к нескольким частям кортежа одновременно, как в примере выше, вы также можете использовать сокращенный синтаксис, упрощающий доступ к элементам кортежа:</p> <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>let coordinates3D = (x: 2, y: 3, z: 1)
let (x3, y3, z3) = coordinates3D
</code></pre></div></div> <p>Объявлене трех новых констант: <code class="highlighter-rouge">x3</code>, <code class="highlighter-rouge">y3</code> и <code class="highlighter-rouge">z3</code> и присваивание каждую часть кортежа соответствующим константам. Код эквивалентен следующему:</p> <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>let coordinates3D = (x: 2, y: 3, z: 1)
let x3 = coordinates3D.x
let y3 = coordinates3D.y
let z3 = coordinates3D.z
</code></pre></div></div> <p>Если вы хотите игнорировать определенный элемент кортежа, вы можете заменить соответствующую часть декларации нижним дефисом. Например, если вы выполняли 2D-расчет и хотели игнорировать z-координату <code class="highlighter-rouge">coord3D</code>, то вы должны написать следующее:</p> <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>let (x4, y4, _) = coordinates3D
</code></pre></div></div> <p>Эта строка кода объявляет только <code class="highlighter-rouge">x4</code> и <code class="highlighter-rouge">y4</code>. <code class="highlighter-rouge">_</code> является особым знаком и означает, что вы сейчас игнорируете эту часть.</p> <blockquote> <p>Примечание: Вы увидите, что вы можете использовать символ нижнего дефиса - также называемый оператором подстановочного знака - во всем Swift, чтобы игнорировать значение.</p> </blockquote> <h3 id="числовые-типы">Числовые типы</h3> <p>Вы используете <code class="highlighter-rouge">Int</code> для представления целых чисел. <code class="highlighter-rouge">Int</code> представлен 64-битным на большинстве современных аппаратных средств и 32-битным на устаревших или имеющих ограниченные ресурсы. На самом деле Swift предоставляет гораздо больше числовых типов, которые используют разные объемы памяти для хранения значений. Для целых чисел вы можете использовать явное объявление типов <code class="highlighter-rouge">Int8</code>,<code class="highlighter-rouge">Int16</code>, <code class="highlighter-rouge">Int32</code> и <code class="highlighter-rouge">Int64</code>. Эти типы занимают 1, 2, 4 и 8 байтов памяти, соответственно. Каждый из этих типов использует 1 бит для хранения одного знака.</p> <p>Если вы имеете дело только с неотрицательными значениями, существует набор явных беззнаковые типов, которые вы можете использовать. К ним относятся <code class="highlighter-rouge">UInt8</code>, <code class="highlighter-rouge">UInt16</code>, <code class="highlighter-rouge">UInt32</code> и <code class="highlighter-rouge">UInt64</code>.</p> <p>Ниже приведен краткий обзор различных целых типов и размеров памяти, необходимой для их хранения. В большинстве случаев вы захотите использовать <code class="highlighter-rouge">Int</code>. Другие числовые типы как правило становятся полезными в приложении, если ваш код взаимодействует с другим программным обеспечением, которое использует один из этих более точных типов, или если вам нужно оптимизировать для хранения размер данных.</p> <p><img src="https://koenig-media.raywenderlich.com/uploads/2016/09/int_sizes-650x274.png" alt="int_sizes" /></p> <p>Вы использовали <code class="highlighter-rouge">Double</code> для представления дробных чисел. Swift предлагает <code class="highlighter-rouge">Float</code>, который имеет меньше разрядов и точность чем <code class="highlighter-rouge">Double</code>, но требует вдвое меньше места для хранения. Современное аппаратное обеспечение как правило оптимизировано для <code class="highlighter-rouge">Double</code>, поэтому <code class="highlighter-rouge">Double</code> это тот тип, который следует использовать, если, вы хотите получить максимальную точность десятичного числа.</p> <p><img src="https://koenig-media.raywenderlich.com/uploads/2016/09/float_sizes-650x91.png" alt="float_sizes" /></p> <p>В большинстве случаев вы будете использовать <code class="highlighter-rouge">Int</code> и <code class="highlighter-rouge">Double</code> для представления чисел, но время от времени, вы можете столкнуться с другими типами. Вы уже знаете как с ними бороться. Например, предположим, что необходимо сложить <code class="highlighter-rouge">INT16</code> с <code class="highlighter-rouge">uint8</code> и <code class="highlighter-rouge">int32</code>. Вы можете сделать это следующим образом:</p> <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>let a: Int16 = 12
let b: UInt8 = 255
let c: Int32 = -100000

let answer = Int(a) + Int(b) + Int(c) // Answer is an Int
</code></pre></div></div> <h3 id="взгляд-за-кулисы-протоколы">Взгляд за кулисы: протоколы</h3> <p>Несмотря на то, что существует десяток различных числовых типов, их довольно легко понять и использовать. Это потому, что все они поддерживают примерно одни и те же операции. Другими словами, если вы знаете, как использовать <code class="highlighter-rouge">Int</code>, использовать любой другой из числовых типов будет очень просто.</p> <p>Одной из поистине замечательных особенностей Swift является то, как он формализует идею общности типов, используя то, что называют протоколами. Изучая протокол, вы мгновенно поймете, как целое семейство типов, которые используют этот протокол работают.</p> <p>В случае целых чисел, этот принцип представлен на диаграмме:</p> <p><a href="https://koenig-media.raywenderlich.com/uploads/2018/07/swift-tutorial-part-2-integer-protocols.png"><img src="https://koenig-media.raywenderlich.com/uploads/2018/07/swift-tutorial-part-2-integer-protocols-650x459.png" alt="Integer Protocols" /></a></p> <p>Стрелки указывают на соответствие (иногда называемое <em>адоптация</em>) протоколу. Не смотря на то, что этот график не показывает все протоколы, которым соответствуют целочисленные типы, это дает вам представление о том, как все организовано.</p> <p>Swift является первым языком, созданным на основе протоколов. Когда вы начнете понимать протоколы, которым соответствую типы, вы можете начать использовать эту систему способами невозможными в других языках.</p> <h3 id="что-дальше">Что дальше?</h3> <p>Вы можете загрузить финальный <a href="https://koenig-media.raywenderlich.com/uploads/2018/09/Swift-Tutorial-Part-2.zip">файл playground</a>. Там же вы найдете мини-упражнения для выполнения. Если вы застряли или вам нужна помощь, не стесняйтесь воспользоваться сопутствующими решениями.</p> <p>В этом уроке вы узнали, что типы являются фундаментальной частью программирования. Это то, что позволяет правильно хранить данные. Кроме этого вы познакомились со строками и кортежами, а также кучей числовых типов.</p> <p>В следующей части вы узнаете о Булевой логике и простом управлении потоком передачи данных.</p> </div> <div class="likely likely-post"> <div class="telegram" data-url="https://losthuman.ru/categories/code/2018/10/07/swift-tipy-i-operatsii-chast-2.html" data-title="Swift: Типы и операции. Часть 2">Отправить</div> <div class="vkontakte" data-url="https://losthuman.ru/categories/code/2018/10/07/swift-tipy-i-operatsii-chast-2.html" data-title="Swift: Типы и операции. Часть 2">Поделиться</div> <div class="odnoklassniki" data-url="https://losthuman.ru/categories/code/2018/10/07/swift-tipy-i-operatsii-chast-2.html" data-title="Swift: Типы и операции. Часть 2">Класснуть</div> <div class="facebook" data-url="https://losthuman.ru/categories/code/2018/10/07/swift-tipy-i-operatsii-chast-2.html" data-title="Swift: Типы и операции. Часть 2">Поделиться</div> <div class="gplus" data-url="https://losthuman.ru/categories/code/2018/10/07/swift-tipy-i-operatsii-chast-2.html" data-title="Swift: Типы и операции. Часть 2">Плюсануть</div> <div class="twitter" data-url="https://losthuman.ru/categories/code/2018/10/07/swift-tipy-i-operatsii-chast-2.html" data-title="Swift: Типы и операции. Часть 2">Твитнуть</div> </div> <!-- <div class="article-ad"> <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script> <ins class="adsbygoogle" style="display:block; text-align:center;" data-ad-layout="in-article" data-ad-format="fluid" data-ad-client="ca-pub-5706627784425194" data-ad-slot="8358109938"></ins> <script> (adsbygoogle = window.adsbygoogle || []).push({}); </script> </div> --> <!--<div id="disqus_thread"></div> <script> /** * RECOMMENDED CONFIGURATION VARIABLES: EDIT AND UNCOMMENT THE SECTION BELOW TO INSERT DYNAMIC VALUES FROM YOUR PLATFORM OR CMS. * LEARN WHY DEFINING THESE VARIABLES IS IMPORTANT: https://disqus.com/admin/universalcode/#configuration-variables*/ /* var disqus_config = function () { this.page.url = PAGE_URL; // Replace PAGE_URL with your page's canonical URL variable this.page.identifier = PAGE_IDENTIFIER; // Replace PAGE_IDENTIFIER with your page's unique identifier variable }; */ (function() { // DON'T EDIT BELOW THIS LINE var d = document, s = d.createElement('script'); s.src = 'https://losthuman-ru.disqus.com/embed.js'; s.setAttribute('data-timestamp', +new Date()); (d.head || d.body).appendChild(s); })(); </script> <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>--><div id="vk_comments"></div> <script type="text/javascript"> window.onload = function () { VK.init({apiId: 7004890, onlyWidgets: true}); VK.Widgets.Comments('vk_comments', {limit: 20, attach: "graffiti,photo,video,audio", norealtime: 0}); } </script><a class="u-url" href="/categories/code/2018/10/07/swift-tipy-i-operatsii-chast-2.html" hidden></a> </article> </div> <div class="col-md-4"> <div class="article-ad"> <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script> <!-- losthuman-aside --> <ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-5706627784425194" data-ad-slot="4814492309" data-ad-format="auto" data-full-width-responsive="true"></ins> <script> (adsbygoogle = window.adsbygoogle || []).push({}); </script> </div><ul> <li class="tags" ><a href="/tags/iphone">iphone (1) </a> </li> <li class="tags" ><a href="/tags/apple">apple (4) </a> </li> <li class="tags" ><a href="/tags/security">security (5) </a> </li> <li class="tags" ><a href="/tags/hackers">hackers (1) </a> </li> <li class="tags" ><a href="/tags/google">google (2) </a> </li> <li class="tags" ><a href="/tags/angular">angular (1) </a> </li> <li class="tags" ><a href="/tags/programming">programming (11) </a> </li> <li class="tags" ><a href="/tags/gagets">gagets (3) </a> </li> <li class="tags" ><a href="/tags/regex">regex (1) </a> </li> <li class="tags" ><a href="/tags/wordpress">wordpress (1) </a> </li> <li class="tags" ><a href="/tags/python">python (4) </a> </li> <li class="tags" ><a href="/tags/twitter">twitter (1) </a> </li> <li class="tags" ><a href="/tags/shazam">shazam (1) </a> </li> <li class="tags" ><a href="/tags/application">application (1) </a> </li> <li class="tags" ><a href="/tags/photo">photo (1) </a> </li> <li class="tags" ><a href="/tags/css">css (1) </a> </li> <li class="tags" ><a href="/tags/bittorrent">bittorrent (1) </a> </li> <li class="tags" ><a href="/tags/amazon">amazon (1) </a> </li> <li class="tags" ><a href="/tags/swift">swift (4) </a> </li> <li class="tags" ><a href="/tags/IOS">IOS (1) </a> </li> <li class="tags" ><a href="/tags/uber">uber (1) </a> </li> <li class="tags" ><a href="/tags/npm">npm (1) </a> </li> <li class="tags" ><a href="/tags/nodejs">nodejs (1) </a> </li> <li class="tags" ><a href="/tags/code">code (1) </a> </li> <li class="tags" ><a href="/tags/code swift">code swift (1) </a> </li> <li class="tags" ><a href="/tags/jekyll">jekyll (2) </a> </li> <li class="tags" ><a href="/tags/GitHub">GitHub (1) </a> </li> <li class="tags" ><a href="/tags/GitHub Pages">GitHub Pages (1) </a> </li> </ul><div class="btcwdgt-chart"> style="margin-top: 30px"> <script> (function(b,i,t,C,O,I,N) { window.addEventListener('load',function() { if(b.getElementById(C))return; I=b.createElement(i),N=b.getElementsByTagName(i)[0]; I.src=t;I.id=C;N.parentNode.insertBefore(I, N); },false) })(document,'script','https://widgets.bitcoin.com/widget.js','btcwdgt'); </script> </div> </div> </div> </div> <div class="article-ad"> <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script> <ins class="adsbygoogle" style="display:block; text-align:center;" data-ad-layout="in-article" data-ad-format="fluid" data-ad-client="ca-pub-5706627784425194" data-ad-slot="8358109938"></ins> <script> (adsbygoogle = window.adsbygoogle || []).push({}); </script> </div> </div> </main><footer class="site-footer h-card"> <data class="u-url" href="/"></data> <div class="wrapper"> <h2 class="footer-heading">Losthuman</h2> <div class="footer-col-wrapper"> <div class="footer-col footer-col-1"> <ul class="contact-list"> <li class="p-name">Losthuman</li><li><a class="u-email" href="mailto:info@losthuman.ru">info@losthuman.ru</a></li></ul> </div> <div class="footer-col footer-col-2"><ul class="social-media-list"><li><a href="https://twitter.com/losthuman9"><svg class="svg-icon"><use xlink:href="/assets/minima-social-icons.svg#twitter"></use></svg> <span class="username">losthuman9</span></a></li></ul> </div> <div class="footer-col footer-col-3"> <p>Ничего особо ценного</p> </div> </div> </div> </footer> <script src="/assets/likely.js"></script> </body> </html>
